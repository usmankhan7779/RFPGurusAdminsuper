<div class="view">
  <div class="table-box">
      <div class="">
            <div class="page-title">
                    <h3 class="text-center">Promo Code</h3>
                  </div>
        <div class="admin-home-palceholder">
            <button class="btn-fill" data-toggle="modal" data-target="#aexampleModalCenter">
                Add new Promo Code </button>
                
                <div class="icons">     
                        <label class="product-label">Items per page:
                            </label>
                            <mat-form-field>
                        
                                <mat-select class="width-sec" placeholder="" value="{{pageSize}}" #val
                                    (valueChange)="page(val.value)" value="pageSize" required [(ngModel)]="pageSize"
                                    name="pageSize">
                                    <mat-option  value="10" selected="true">10</mat-option>
                                    <mat-option  value="20">20 </mat-option>
                                    <mat-option  value="30">30</mat-option>
                                    <mat-option  value="50">50</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <button data-toggle="modal" data-target="#exampleModalCenter2" >
                            
                                <i class="fa fa-search"></i></button>
                    </div>
        </div>
       

      </div>


      
      


      <div class="table-responsive">
      <table>
          <thead>
              <tr>
                  <th>Promo Code</th>
              
                  <th>Subscription</th>
             
                  <th>Promo Type</th>
              
                  <th>Discount</th>
                  <th>Valid From</th>
                  <th>Valid To</th>
                  <th>Status</th>
                  <!-- <th>Date</th> -->
                  <th>Action</th>
                
              </tr>
          </thead>
          <tbody>
              <tr  *ngFor="let item of personal">
                  <td>{{item.code}}</td>
                  <!-- <td>{{item.duration}}</td> -->
                  <td *ngIf="item.subscription_type == 'V'">Vendor</td>
                  <td *ngIf="item.subscription_type == 'A'">Agency</td>
                  
                  <!-- <td>{{item.pkg_type}}</td> -->
                  <td *ngIf="item.promo_type == 'T'">Trial </td>
                  <td *ngIf="item.promo_type == 'M'">Monthly </td>
                  <td *ngIf="item.promo_type == 'Y'">Yearly </td>
                  
                 
                  <td>{{item.discount}}%</td>
                  <td>{{item.timegenerated | date:"MMM d, y":"UTC"}}</td>
                  <td>{{item.exp_time | date:"MMM d, y":"UTC"}}</td>
                  <td>{{item.valid}}</td>
                                    
                 
                  <!-- <td>{{item.date_joined | date}}</td> -->
                  <td class="text-center">
                      
                        <button class="detail-btn" data-toggle="modal" data-target="#exampleModalCenter" (click)="veiwvalue(item.discount,item.valid,item.timegenerated,item.exp_time,item.id)">
                          
                          Update</button>
                        <button class="detail-btn" (click)="activeClick(item.id)">
                          
                            Delete</button>

                    
                  </td>
              </tr>
          </tbody>
        
      </table>
      
      
      



      </div>



  </div>
  <!-- <div class="pagination-nav">   
    <ul class="pagination" *ngIf="pager.pages && pager.pages.length">


            <li [ngClass]="{hide:pager.currentPage === 1}">
              <a (click)="viewpromo(pager.currentPage - 1)" class="view-1s" class="btn btn-fill">
                <i class="fa fa-angle-left"></i>
              </a>
            </li>
            <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
              <a   (click)="viewpromo(page)" class="view-plan-details">{{page}}</a>
            </li>

            <li [ngClass]="{hide:pager.currentPage === pager.totalPages}" *ngIf="(pager.startPage  + 3) <= pager.totalPages">
              <a   (click)="viewpromo(pager.currentPage + 3)">...</a>
            </li>
            
            <li *ngIf="pager.currentPage === pager.totalPages"> <a>OF</a></li>
            <li *ngIf="pager.currentPage === pager.totalPages">
              <a   (click)="viewpromo(pager.totalPages)" class="view-plan-details" type="Last">{{pager.totalPages}}</a>
            </li>
            <li [ngClass]="{hide:pager.currentPage === pager.totalPages}">
              <a   (click)="viewpromo(pager.currentPage + 1)" class="view-plan-details" class="btn btn-fill" type="Next">
                <i class="fa fa-angle-right top-set"></i>
              </a>
            </li>

          </ul>
          </div> -->
</div>


<div class="modal fade login-or-signup" id="exampleModalCenter" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered custom-model" style="animation-delay: 15s" role="document">
        <div class="modal-content login-template">

            <div class="on-load-popup">

                <div class="date-bar">
                    <div class="pop-header">
                        <h1>Promo Code</h1>
                        <div class="close-button"> <button type="button" class="close sh" data-dismiss="modal"
                                aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
                        </div>
                    </div>
                    <form class="date-picker">

                        <mat-form-field class="example-full-width">
                            <input matInput [matDatepicker]="myPicker" value="{{datefrom}}" [(ngModel)]="datefrom"
                                name="datefrom" placeholder="Valid From">
                            <mat-datepicker-toggle matSuffix [for]="myPicker"></mat-datepicker-toggle>
                            <mat-datepicker #myPicker></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <input matInput [matDatepicker]="myPicker1" value="{{dateto}}" [(ngModel)]="dateto"
                                name="dateto" placeholder="Valid To">
                            <mat-datepicker-toggle matSuffix [for]="myPicker1"></mat-datepicker-toggle>
                            <mat-datepicker #myPicker1></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <input matInput placeholder="Discount" [(ngModel)]="discount" name="discount"
                                value="{{discount}}">
                        </mat-form-field>
                        <mat-form-field>
                            <!-- <mat-label *ngIf="valid=='true'">Active</mat-label>
                            <mat-label *ngIf="!status">Expire</mat-label> -->
                            <mat-select [(ngModel)]="valid" [(ngModel)]="valid" name="valid">
                                <mat-option [value]="true">Active</mat-option>
                                <mat-option [value]="false">Expire</mat-option>
                            </mat-select>
                        </mat-form-field>

                    </form>

                </div>
            </div>
            <div class="modal-footer text-center">



                <button title="Subscribe Now" type="button" class="btn btn-fill" data-dismiss="modal"
                    (click)="promocode_update(f)">Update</button>
                    <button title="Subscribe Now" type="button" class="btn btn-fill" data-dismiss="modal"
                    data-dismiss="modal">Cancel </button>



            </div>

        </div>
    </div>
</div>

<div class="modal fade login-or-signup" id="aexampleModalCenter" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered custom-model" style="animation-delay: 15s" role="document">
        <div class="modal-content login-template">

            <div class="on-load-popup">

                <div class="date-bar">
                    <div class="pop-header">
                        <h1>Add new Promo Code</h1>
                        <div class="close-button"> <button type="button" class="close sh" data-dismiss="modal"
                                aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
                        </div>
                    </div>
                    <form class="date-picker">

                        <mat-form-field class="example-full-width">
                            <input matInput [matDatepicker]="myPicker3" [(ngModel)]="postdatefrom" name="datefrom"
                                placeholder="Valid From">
                            <mat-datepicker-toggle matSuffix [for]="myPicker3"></mat-datepicker-toggle>
                            <mat-datepicker #myPicker3></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <input matInput [matDatepicker]="myPicker4" [(ngModel)]="postdateto" name="dateto"
                                placeholder="Valid To">
                            <mat-datepicker-toggle matSuffix [for]="myPicker4"></mat-datepicker-toggle>
                            <mat-datepicker #myPicker4></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <input matInput placeholder="Discount" [(ngModel)]="postdiscount" name="postdiscount">
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <input matInput placeholder="Code" [(ngModel)]="postcode" name="postcode">
                        </mat-form-field>

                        <div class="">
                            <h4 class="sm-heading">Status</h4>
                            <div class="radio">
                                    <label class="redio-lable">
                                            <input checked="true" type="radio" (change)="checked13($event,i)" ng-Model="pricing"
                                                name="postcodeT" [value]="true">
                                            <!-- <input  type="radio" (change)="checked10($event,i)"   ng-Model="market"  name="fixed" [value]="market" > -->
                                            <span class="circle"></span><span class="check"></span>
                                            Yes
                                        </label>
                                <label class="redio-lable">
                                    <input type="radio" (change)="checked14($event,i)" ng-Model="billing"
                                        name="postcodeT" [value]="false"><span class="circle"></span><span
                                        class="check"></span>
                                    No
                                </label>
                            </div>

                        </div>

                        <div class="">
                            <h4 class="sm-heading"> Subscription Type</h4>
                            <div class="radio">
                                <label class="redio-lable">
                                    <input checked="true" type="radio" (change)="checked8($event,i)" ng-Model="pricing"
                                        name="postcodeA" [value]="A">
                                    <!-- <input  type="radio" (change)="checked10($event,i)"   ng-Model="market"  name="fixed" [value]="market" > -->
                                    <span class="circle"></span><span class="check"></span>
                                    Agency
                                </label>
                                <label class="redio-lable">
                                        <input type="radio" (change)="checked9($event,i)" ng-Model="billing"
                                            name="postcodeA" [value]="V"><span class="circle"></span><span
                                            class="check"></span>
                                        Vendor
                                    </label>
                            </div>
                            

                        </div>
                        <div class="">
                            <h4 class="sm-heading">Package</h4>
                            <div class="radio">
                                <label class="redio-lable">
                                    <input checked="true" type="radio" (change)="checked10($event,i)" ng-Model="pricing"
                                        name="postcodeY" [value]="T">
                                    <span class="circle"></span><span class="check"></span>
                                    Trial
                                </label>
                                <label class="redio-lable">
                                        <input type="radio" (change)="checked11($event,i)" ng-Model="billing"
                                            name="postcodeY" [value]="M"><span class="circle"></span><span
                                            class="check"></span>
                                        Monthly
                                    </label>
                                    <label class="redio-lable">
                                            <input type="radio" (change)="checked12($event,i)" ng-Model="billing"
                                                name="postcodeY" [value]="Y"><span class="circle"></span><span
                                                class="check"></span>
                                            yearly
                                        </label>
                            </div>
                            

                        </div>

                    </form>

                </div>
            </div>
            <div class="modal-footer text-center">



                <button title="Subscribe Now" type="button" class="btn btn-fill" data-dismiss="modal"
                    (click)="addpromocode_update()">Add </button>
                    
                <button title="Subscribe Now" type="button" class="btn btn-fill" data-dismiss="modal"
                data-dismiss="modal">Cancel </button>



            </div>

        </div>
    </div>
</div>

<div  class="modal fade login-or-signup" id="exampleModalCenter2" tabindex="-1" role="dialog"
aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered custom-model" style="animation-delay: 15s" role="document">
  <div class="modal-content login-template">
     
      <div class="on-load-popup">
          

                 <div class="date-bar">
                    <div class="pop-header">
                        <h1>Filter</h1>
                        <div class="close-button"> <button type="button" class="close sh" data-dismiss="modal"
                            aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
                        </div>
                    </div>
                  <form  class="date-picker">
                    <mat-form-field>
                            <input matInput [matDatepicker] = "picker"   placeholder = "From Date" [(ngModel)]="model.datefrom" name="datefrom" >
                            <mat-datepicker-toggle matSuffix [for] = "picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                         </mat-form-field>
                    <mat-form-field>
                      <input matInput [matDatepicker] = "picker1"  placeholder = "To Date" [(ngModel)]="model.dateto" name="datefrom">
                      <mat-datepicker-toggle matSuffix [for] = "picker1"></mat-datepicker-toggle>
                      <mat-datepicker #picker1></mat-datepicker>
                   </mat-form-field>
                   <mat-form-field class="example-full-width">
                    <input matInput placeholder="code" [(ngModel)]="model.code" name="code">
                  </mat-form-field>

                  <mat-form-field class="example-full-width">
                    <input matInput placeholder="active" [(ngModel)]="model.active" name="active">
                  </mat-form-field>
                  <mat-form-field class="example-full-width">
                    <input matInput placeholder="subscription" [(ngModel)]="model.subscription" name="subscription">
                  </mat-form-field>


                  <!-- 'datefrom': datefrom,
                  'dateto': dateto,
                  'code': code,
                  'active': active,
                  'subscription':subscription -->
                
                    
                    </form>
                 </div>
      </div>
      <div class="modal-footer text-center"> 
        
             
          <button title="Subscribe Now" type="button"
          class="btn btn-fill" data-dismiss="modal">Cancel</button> 
          <button class="btn btn-fill" (click)="postoffer(1)" data-dismiss="modal">Search</button>

                  
                   
      </div>
                  <!-- <countdown class="benner-conter mainpagee"  [text]="text" units=" Days | Hours | Minutes | Seconds" end="July 08, 2019 18:40:00"> </countdown> -->

  </div>
</div>
</div>
